import*as e from"./modules/algebra.js";import*as a from"./modules/arithmetic.js";import*as r from"./modules/calculus.js";import*as t from"./modules/discreteMathematics.js";import*as s from"./modules/linearAlgebra.js";import*as i from"./modules/trigonometry.js";export let questionArea=document.getElementById("question-area");let d=document.getElementById("gen-type"),n=document.getElementById("genQ"),l=document.getElementById("answer-box"),c=document.getElementById("answer-results"),o=document.getElementById("check-answer");function b(){let e=l.value.trim(),a=d.value,r=!1,t=e=>{try{let a=math.simplify(e);return a.isletantNode&&null!==a.value?parseFloat(a.value):a.toString()}catch(a){return e.replace(/\s+/g,"").toLowerCase()}},s=(e,a,r=1e-8)=>Math.abs(e-a)<r;if(["arithmetic_sum","geometric_sum","convergence","nth_term"].includes(a))if("convergence"===a){let a=e.replace(/[^a-z]/gi,"").toLowerCase(),t=correctAnswer.correct.replace(/[^a-z]/gi,"").toLowerCase();r="converges"==t?"converge"==a||"converges"==a:"diverges"==t?"diverge"==a||"diverges"==a:a==t}else{let a=parseFloat(e),i=parseFloat(correctAnswer.correct);if(isNaN(a)||isNaN(i)){let a=t(e);r=[correctAnswer.correct,correctAnswer.alternate].filter((e=>null!=e)).some((e=>t(e)==a))}else r=s(a,i)}else{if(["deri","mtrx","vctr","root","inte","sin","cos","tan","cosec","sec","cot","log"].includes(a)){let a=t(e);r=[correctAnswer.correct,correctAnswer.alternate].filter((e=>null!=e)).some((e=>t(e)==a))}else{let a=parseFloat(e),t=parseFloat(correctAnswer.correct);r=!isNaN(a)&&!isNaN(t)&&s(a,t)}}c.innerHTML=r?`Correct! The answer is <span class="answer">${correctAnswer.correct}</span>.`:`Incorrect. The correct answer is <span class="answer">${correctAnswer.correct}</span>.`}window.correctAnswer={},l.addEventListener("keyup",(function(e){e.shiftKey&&"Enter"==e.key&&(b(),l.value="",l.focus())})),n.addEventListener("click",(function(){switch(d.value){case"add":a.generateAddition(),o.disabled=!1,l.disabled=!1;break;case"subtrt":a.generateSubtraction(),o.disabled=!1,l.disabled=!1;break;case"mult":a.generateMultiplication(),o.disabled=!1,l.disabled=!1;break;case"divid":a.generateDivision(),o.disabled=!1,l.disabled=!1;break;case"root":e.generateRoot(),o.disabled=!1,l.disabled=!1;break;case"deri":r.generateDerivative(),o.disabled=!1,l.disabled=!1;break;case"inte":r.generateIntegral(),o.disabled=!1,l.disabled=!1;break;case"mtrx":s.generateMatrix(),o.disabled=!1,l.disabled=!1;break;case"vctr":s.generateVector(),o.disabled=!1,l.disabled=!1;break;case"sin":i.generateSin(),o.disabled=!1,l.disabled=!1;break;case"cos":i.generateCosine(),o.disabled=!1,l.disabled=!1;break;case"tan":i.generateTangent(),o.disabled=!1,l.disabled=!1;break;case"cosec":i.generateCosecant(),o.disabled=!1,l.disabled=!1;break;case"sec":i.generateSecant(),o.disabled=!1,l.disabled=!1;break;case"cot":i.generateCotangent(),o.disabled=!1,l.disabled=!1;break;case"log":e.generateLogarithm(),o.disabled=!1,l.disabled=!1;break;case"exp":e.generateExponent(),o.disabled=!1,l.disabled=!1;break;case"fact":e.generateFactorial(),o.disabled=!1,l.disabled=!1;break;case"perm":t.generatePermutation(),o.disabled=!1,l.disabled=!1;break;case"comb":t.generateCombination(),o.disabled=!1,l.disabled=!1;break;case"prob":t.generateProbability(),o.disabled=!1,l.disabled=!1;break;case"ser":e.generateSeries(),o.disabled=!1,l.disabled=!1;break;case"lim":r.generateLimit(),o.disabled=!1,l.disabled=!1;break;case"relRates":r.generateRelatedRates(),o.disabled=!1,l.disabled=!1;break;default:questionArea.innerHTML='Please select a type of question to generate before hitting the "Generate Question" button'}})),o.addEventListener("click",b);