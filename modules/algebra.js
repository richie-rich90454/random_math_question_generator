import{questionArea as e}from"../script.js";export function generateLogarithm(){e.innerHTML="";let r=["basic","change_base","equation","properties","exponential_form"],t=r[Math.floor(Math.random()*r.length)],a=Math.floor(4*Math.random())+2,o=Math.pow(a,Math.floor(4*Math.random())+1),n=Math.floor(3*Math.random())+2;switch(t){case"basic":{let r=(Math.log(o)/Math.log(a)).toFixed(2);e.innerHTML=`Evaluate: \\( \\log_{${a}} ${o} \\)`,correctAnswer={correct:r,alternate:`\\log_{${a}} ${o}=${r}`};break}case"change_base":{let r=(Math.log(o)/Math.log(n)/(Math.log(a)/Math.log(n))).toFixed(2);e.innerHTML=`Express \\( \\log_{${a}} ${o} \\) in base \\( ${n} \\)`,correctAnswer={correct:r,alternate:`\\frac{\\log_{${n}} ${o}}{\\log_{${n}} ${a}}=${r}`};break}case"equation":{let r=Math.floor(3*Math.random())+2;e.innerHTML=`Solve for \\( x \\): \\( ${a}^{x}=${Math.pow(a,r)} \\)`,correctAnswer={correct:r,alternate:`x=${r}`};break}case"properties":{let r=Math.floor(8*Math.random())+2,t=Math.floor(8*Math.random())+2,o=(Math.log(r*t)/Math.log(a)).toFixed(2),n=(Math.log(r)/Math.log(a)).toFixed(2),c=(Math.log(t)/Math.log(a)).toFixed(2);e.innerHTML=`Evaluate: \\( \\log_{${a}} (${r} \\times ${t}) \\)`,correctAnswer={correct:o,alternate:`\\log_{${a}} ${r}+\\log_{${a}} ${t}=${n}+${c}=${o}`};break}case"exponential_form":{let r=Math.floor(3*Math.random())+2,t=Math.pow(a,r);e.innerHTML=`If \\( \\log_{${a}} x=${r} \\), find \\( x \\)`,correctAnswer={correct:t,alternate:`${a}^{${r}}=${t}`};break}}MathJax&&MathJax.typeset()}export function generateExponent(){e.innerHTML="";let r=["basic","solve","laws","growth","compare"],t=r[Math.floor(Math.random()*r.length)],a=Math.floor(4*Math.random())+2,o=Math.floor(5*Math.random())+2;switch(t){case"basic":e.innerHTML=`Evaluate: \\( ${a}^{${o}} \\)`,correctAnswer={correct:Math.pow(a,o),alternate:Math.pow(a,o)};break;case"solve":let r=Math.pow(a,o);e.innerHTML=`Solve for \\( x \\): \\( ${a}^{x}=${r} \\)`,correctAnswer={correct:o,alternate:o};break;case"laws":let t=Math.floor(3*Math.random())+2,n=Math.floor(3*Math.random())+2;e.innerHTML=`Simplify: \\( (${a}^{${t}}) \\times (${a}^{${n}}) \\)`,correctAnswer={correct:`${a}<sup>${t+n}</sup>`,alternate:Math.pow(a,t+n)};break;case"growth":let c=(20*Math.random()+5).toFixed(1);e.innerHTML=`A population grows at \\( ${c}\\% \\) annually. What is the growth factor?`;let h=(1+c/100).toFixed(3);correctAnswer={correct:h,alternate:"1+"+c/100};break;case"compare":let l=Math.floor(3*Math.random())+2,i=Math.floor(3*Math.random())+2,M=Math.floor(4*Math.random())+2,s=Math.floor(4*Math.random())+2;e.innerHTML=`Which is larger: \\( ${l}^{${M}} \\) or \\( ${i}^{${s}} \\)?`;let m=[Math.pow(l,M),Math.pow(i,s)];correctAnswer={correct:m[0]>m[1]?`${l}^${M}`:`${i}^${s}`,alternate:Math.max(...m)}}MathJax&&MathJax.typeset()}export function generateFactorial(){e.innerHTML="";let r=["basic","division","equation","approximation","prime"],t=r[Math.floor(Math.random()*r.length)],a=Math.floor(7*Math.random())+5,o=Math.floor(Math.random()*(a-2))+2;switch(t){case"basic":e.innerHTML=`Calculate \\( ${a}! \\)`,correctAnswer={correct:Array.from({length:a},((e,r)=>r+1)).reduce(((e,r)=>e*r),1),alternate:Array.from({length:a},((e,r)=>r+1)).reduce(((e,r)=>e*r),1)};break;case"division":e.innerHTML=`Simplify: \\( \\frac{${a}!}{${o}!} \\)`,correctAnswer={correct:Array.from({length:a-o},((e,r)=>a-r)).reduce(((e,r)=>e*r),1),alternate:Array.from({length:a},((e,r)=>r+1)).reduce(((e,r)=>e*r),1)/Array.from({length:o},((e,r)=>r+1)).reduce(((e,r)=>e*r),1)};break;case"equation":let r=Array.from({length:a},((e,r)=>r+1)).reduce(((e,r)=>e*r),1);e.innerHTML=`Solve for \\( n \\): \\( n!=${r} \\)`,correctAnswer={correct:a,alternate:a};break;case"approximation":e.innerHTML=`Estimate \\( ${a}! \\) using Stirling's approximation`;let t=Math.sqrt(2*Math.PI*a)*Math.pow(a/Math.E,a);correctAnswer={correct:t.toFixed(0),alternate:Math.round(t)};break;case"prime":let n=[2,3,5,7,11][Math.floor(5*Math.random())];e.innerHTML=`Find the exponent of \\( ${n} \\) in \\( ${a}! \\) (prime factorization)`;let c=0,h=a;for(;h>0;)h=Math.floor(h/n),c+=h;correctAnswer={correct:c,alternate:c}}MathJax&&MathJax.typeset()}export function generateSeries(){e.innerHTML="";let r,t,a=["arithmetic_sum","geometric_sum","convergence","nth_term"];switch(a[Math.floor(Math.random()*a.length)]){case"arithmetic_sum":{let e=Math.floor(10*Math.random())+1,a=Math.floor(5*Math.random())+1,o=Math.floor(10*Math.random())+5;r=`Find the sum of the first ${o} terms of the arithmetic sequence: \\[ S_n=\\frac{n}{2} [2a_1+(n-1)d] \\] where \\( a_1=${e} \\) and \\( d=${a} \\).`,t=(o/2*(2*e+(o-1)*a)).toString(),correctAnswer={correct:t};break}case"geometric_sum":{let e=Math.floor(5*Math.random())+1,a=(Math.random()<.5?-1:1)*(.9*Math.random()+.1),o=a.toFixed(2),n=Math.floor(8*Math.random())+3;r=`Find the sum of the first ${n} terms of the geometric sequence: \\[ S_n=a_1 \\frac{1-r^n}{1-r} \\] where \\( a_1=${e} \\) and \\( r=${o} \\).`,t=(e*(1-Math.pow(a,n))/(1-a)).toFixed(2),correctAnswer={correct:t,alternate:`\\frac{${e}(1-${o}^{${n}})}{1-${o}}`};break}case"convergence":{let e=[{expr:"\\frac{1}{n^2}",conv:"converges"},{expr:"\\frac{1}{\\sqrt{n}}",conv:"diverges"},{expr:"(-1)^n \\frac{1}{n}",conv:"converges"}],a=e[Math.floor(Math.random()*e.length)];r=`Determine if the series converges or diverges: \\[ \\sum_{n=1}^{\\infty} ${a.expr} \\]`,t=a.conv,correctAnswer={correct:t,alternate:t};break}case"nth_term":{let e=Math.floor(10*Math.random())+1,a=Math.floor(5*Math.random())+1,o=Math.floor(10*Math.random())+5,n=e+(o-1)*a;r=`Find the ${o}${getOrdinal(o)} term of the arithmetic sequence: \\[ a_n=a_1+(n-1)d \\] where \\( a_1=${e} \\) and \\( d=${a} \\).`,t=n.toString(),correctAnswer={correct:t};break}}let o=document.createElement("div");o.innerHTML=r,e.appendChild(o),MathJax.typesetPromise([o])}export function generateRoot(){e.innerHTML="";let r=Math.floor(4*Math.random())+2,t=Math.floor(10*Math.random())+1,a=Math.pow(t,r),o="";o=2==r?`\\[ \\sqrt{${a}}=? \\]`:`\\[ \\sqrt[${r}]{${a}}=? \\]`;let n=t.toString(),c=document.createElement("div");c.innerHTML=o,e.appendChild(c),MathJax.typesetPromise([c]),correctAnswer={correct:n,alternate:n}}export function getOrdinal(e){let r=["th","st","nd","rd"],t=e%100;return r[(t-20)%10]||r[t]||r[0]}